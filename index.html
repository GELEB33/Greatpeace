<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>üé∞ –≠–º–æ–¥–∑–∏ –ö–∞–∑–∏–Ω–æ</title>
    <style>
        * {
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: white;
            overflow-x: hidden;
            touch-action: manipulation;
        }
        .header {
            text-align: center;
            padding: 20px 0;
            width: 100%;
            background-color: rgba(0,0,0,0.3);
            margin-bottom: 20px;
            position: relative;
        }
        h1 {
            margin: 0;
            font-size: 2.2rem;
            color: #fff;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
            letter-spacing: 1px;
        }
        .money-display {
            background-color: rgba(255,215,0,0.2);
            border-radius: 20px;
            padding: 8px 20px;
            font-size: 1.2rem;
            font-weight: bold;
            margin: 10px auto;
            display: inline-block;
            backdrop-filter: blur(5px);
            border: 1px solid gold;
        }
        .game-container {
            width: 95%;
            max-width: 500px;
            background-color: rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            backdrop-filter: blur(8px);
            margin-bottom: 20px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .case-button {
            background: linear-gradient(45deg, #FF416C 0%, #FF4B2B 100%);
            border: none;
            border-radius: 15px;
            padding: 15px 0;
            width: 100%;
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
            cursor: pointer;
            margin: 15px 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transition: transform 0.2s, box-shadow 0.2s;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }
        .case-button:active {
            transform: scale(0.98);
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .case-button:disabled {
            background: linear-gradient(45deg, #555555 0%, #333333 100%);
            cursor: not-allowed;
        }
        .result-display {
            font-size: 5rem;
            text-align: center;
            margin: 20px 0;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: rgba(0,0,0,0.3);
            border-radius: 15px;
            transition: all 0.3s;
            border: 2px solid rgba(255,255,255,0.1);
        }
        .inventory {
            margin-top: 30px;
        }
        .inventory h2 {
            text-align: center;
            margin-bottom: 15px;
            font-size: 1.5rem;
            color: #fff;
            text-shadow: 0 1px 3px rgba(0,0,0,0.5);
        }
        .items-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }
        .item {
            font-size: 2rem;
            background-color: rgba(0,0,0,0.3);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            aspect-ratio: 1/1;
            position: relative;
            transition: transform 0.2s;
            border: 2px solid rgba(255,255,255,0.1);
        }
        .item:active {
            transform: scale(0.95);
        }
        .item-value {
            position: absolute;
            bottom: 5px;
            right: 5px;
            background-color: rgba(0,0,0,0.6);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .shop {
            width: 95%;
            max-width: 500px;
            background-color: rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            backdrop-filter: blur(8px);
            margin-bottom: 30px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .shop h2 {
            text-align: center;
            margin-top: 0;
            font-size: 1.5rem;
            color: #fff;
            text-shadow: 0 1px 3px rgba(0,0,0,0.5);
        }
        .shop-items {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .shop-item {
            background: linear-gradient(45deg, #4776E6 0%, #8E54E9 100%);
            border-radius: 15px;
            padding: 15px;
            cursor: pointer;
            transition: transform 0.2s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        .shop-item:active {
            transform: scale(0.98);
        }
        .shop-item h3 {
            margin-top: 0;
            font-size: 1.2rem;
            color: white;
        }
        .shop-item p {
            margin-bottom: 5px;
            font-size: 0.9rem;
            opacity: 0.9;
        }
        .shop-item-price {
            font-weight: bold;
            font-size: 1.1rem;
            text-align: right;
            color: gold;
        }
        .rarity-info {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
            margin-bottom: 20px;
        }
        .rarity-tag {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            background-color: rgba(0,0,0,0.5);
        }
        .common { border-left: 4px solid #bdc3c7; }
        .rare { border-left: 4px solid #3498db; }
        .epic { border-left: 4px solid #9b59b6; }
        .legendary { border-left: 4px solid #f1c40f; }
        .ultra { border-left: 4px solid #e74c3c; }
        .mythical { border-left: 4px solid #1abc9c; }
        .item-common { border-color: #bdc3c7; }
        .item-rare { border-color: #3498db; }
        .item-epic { border-color: #9b59b6; }
        .item-legendary { border-color: #f1c40f; }
        .item-ultra { border-color: #e74c3c; }
        .item-mythical { border-color: #1abc9c; }
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background-color: #f00;
            border-radius: 50%;
            pointer-events: none;
            z-index: 1000;
        }
        .jackpot {
            position: absolute;
            top: 10px;
            right: 10px;
            background: linear-gradient(45deg, #FFD700 0%, #FFA500 100%);
            padding: 5px 10px;
            border-radius: 5px;
            font-weight: bold;
            font-size: 0.9rem;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        .daily-bonus {
            background: linear-gradient(45deg, #00b09b 0%, #96c93d 100%);
            border-radius: 15px;
            padding: 15px;
            margin-top: 20px;
            text-align: center;
        }
        .daily-bonus button {
            background: rgba(0,0,0,0.3);
            border: none;
            border-radius: 10px;
            padding: 10px 20px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            margin-top: 10px;
        }
        .game-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            font-size: 0.9rem;
            opacity: 0.8;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üé∞ –≠–º–æ–¥–∑–∏ –ö–∞–∑–∏–Ω–æ</h1>
        <div class="jackpot">–î–∂–µ–∫–ø–æ—Ç: <span id="jackpotValue">5000</span>üí∞</div>
        <div class="money-display">üí∞ <span id="money">100</span></div>
    </div>

    <div class="game-container">
        <button class="case-button" id="openCase">–ö—Ä—É—Ç–∏—Ç—å (10üí∞)</button>
        <div class="result-display" id="result">üé∞</div>
        
        <div class="game-stats">
            <div>–û—Ç–∫—Ä—ã—Ç–æ: <span id="openedCount">0</span></div>
            <div>–†–µ–∫–æ—Ä–¥: <span id="recordValue">0</span>üí∞</div>
        </div>
        
        <div class="inventory">
            <h2>üì¶ –ö–æ–ª–ª–µ–∫—Ü–∏—è</h2>
            <div class="items-grid" id="inventory"></div>
        </div>
        
        <div class="daily-bonus" id="dailyBonus">
            <h3>–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å</h3>
            <p>–ü–æ–ª—É—á–∏—Ç–µ –¥–æ 100üí∞ –∑–∞ –≤—Ö–æ–¥ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å!</p>
            <button id="bonusButton">–ü–æ–ª—É—á–∏—Ç—å –±–æ–Ω—É—Å</button>
        </div>
    </div>

    <div class="shop">
        <h2>üõí –ü—Ä–µ–º–∏—É–º –∫–µ–π—Å—ã</h2>
        <div class="shop-items">
            <div class="shop-item" onclick="buyCase(1, 50)">
                <h3>–ó–æ–ª–æ—Ç–æ–π –∫–µ–π—Å</h3>
                <p>–®–∞–Ω—Å—ã: 50% —Ä–µ–¥–∫–∏–π, 35% —ç–ø–∏–∫, 14% –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π, 1% —É–ª—å—Ç—Ä–∞</p>
                <div class="shop-item-price">50üí∞</div>
            </div>
            <div class="shop-item" onclick="buyCase(2, 150)">
                <h3>–ü–ª–∞—Ç–∏–Ω–æ–≤—ã–π –∫–µ–π—Å</h3>
                <p>–®–∞–Ω—Å—ã: 20% —ç–ø–∏–∫, 60% –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π, 19% —É–ª—å—Ç—Ä–∞, 1% –º–∏—Ñ–∏—á–µ—Å–∫–∏–π</p>
                <div class="shop-item-price">150üí∞</div>
            </div>
            <div class="shop-item" onclick="buyCase(3, 500)">
                <h3>–î—Ä–∞–∫–æ–Ω–∏–π –∫–µ–π—Å</h3>
                <p>–®–∞–Ω—Å—ã: 5% –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π, 70% —É–ª—å—Ç—Ä–∞, 24% –º–∏—Ñ–∏—á–µ—Å–∫–∏–π, 1% —É–Ω–∏–∫–∞–ª—å–Ω—ã–π</p>
                <div class="shop-item-price">500üí∞</div>
            </div>
        </div>
    </div>

    <div class="rarity-info">
        <div class="rarity-tag common">–û–±—ã—á–Ω—ã–π</div>
        <div class="rarity-tag rare">–†–µ–¥–∫–∏–π</div>
        <div class="rarity-tag epic">–≠–ø–∏—á–µ—Å–∫–∏–π</div>
        <div class="rarity-tag legendary">–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π</div>
        <div class="rarity-tag ultra">–£–ª—å—Ç—Ä–∞</div>
        <div class="rarity-tag mythical">–ú–∏—Ñ–∏—á–µ—Å–∫–∏–π</div>
    </div>

    <script>
        // –≠–º–æ–¥–∑–∏ –ø–æ —Ä–µ–¥–∫–æ—Å—Ç–∏ (—Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ —ç–º–æ–¥–∑–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤–µ–∑–¥–µ —Ä–∞–±–æ—Ç–∞—é—Ç)
        const emojis = {
            common: ['üòÄ', 'üòÉ', 'üòÑ', 'üòÅ', 'üòÜ', 'üòÖ', 'üòÇ', 'ü§£', 'üòä', 'üòá'],
            rare: ['üòç', 'ü•∞', 'üòò', 'üòó', 'üòé', 'ü§ì', 'üßê', 'ü•≥', 'üòè', 'üòã'],
            epic: ['ü§©', 'ü§Ø', 'üò±', 'üòà', 'üëπ', 'üë∫', 'ü§°', 'üëª', 'üíÄ', 'üëΩ'],
            legendary: ['üëë', 'üé©', 'üß¢', 'üëí', 'üíç', 'üíé', 'üèÜ', 'üéñ', 'ü•á', 'ü™ô'],
            ultra: ['‚ö°', 'üí´', '‚≠ê', 'üåü', '‚ú®', 'üî•', 'üí•', '‚òÑÔ∏è', 'üå™', 'üåà'],
            mythical: ['ü¶Ñ', 'üêâ', 'üê≤', 'ü¶Ç', 'ü¶Ö', 'ü¶á', 'ü¶â', 'ü¶ö', 'ü¶©', 'ü¶ã'],
            unique: ['‚ò¢Ô∏è', '‚ò£Ô∏è', '‚öïÔ∏è', '‚öö', '‚ö†Ô∏è', '‚ôªÔ∏è', '‚öúÔ∏è', 'üî±', '‚ú°Ô∏è', '‚òØÔ∏è']
        };
        
        // –ó–Ω–∞—á–µ–Ω–∏—è —ç–º–æ–¥–∑–∏
        const emojiValues = {
            common: 5,
            rare: 20,
            epic: 75,
            legendary: 250,
            ultra: 1000,
            mythical: 5000,
            unique: 25000
        };
        
        // –ò–≥—Ä–æ–∫
        const player = {
            money: 100,
            inventory: [],
            lastItem: null,
            openedToday: 0,
            lastBonusDate: null,
            record: 0
        };
        
        // –î–∂–µ–∫–ø–æ—Ç
        let jackpot = 5000;
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        function updateUI() {
            // –û–±–Ω–æ–≤–ª—è–µ–º –¥–µ–Ω—å–≥–∏
            document.getElementById('money').textContent = player.money;
            document.getElementById('jackpotValue').textContent = jackpot;
            document.getElementById('openedCount').textContent = player.openedToday;
            document.getElementById('recordValue').textContent = player.record;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –æ—Ç–∫—Ä—ã—Ç–∏—è –∫–µ–π—Å–∞
            document.getElementById('openCase').disabled = player.money < 10;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
            updateInventory();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –±–æ–Ω—É—Å–∞
            updateBonusButton();
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
        function updateInventory() {
            const inventoryDiv = document.getElementById('inventory');
            inventoryDiv.innerHTML = '';
            
            // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ —Ü–µ–Ω–Ω–æ—Å—Ç–∏
            const sortedInventory = [...player.inventory].sort((a, b) => {
                return emojiValues[b.rarity] - emojiValues[a.rarity];
            });
            
            sortedInventory.forEach((item, index) => {
                const itemDiv = document.createElement('div');
                itemDiv.className = `item item-${item.rarity}`;
                itemDiv.innerHTML = `
                    ${item.emoji}
                    <span class="item-value">${emojiValues[item.rarity]}</span>
                `;
                itemDiv.onclick = () => sellItem(index);
                inventoryDiv.appendChild(itemDiv);
            });
        }
        
        // –û—Ç–∫—Ä—ã—Ç–∏–µ –∫–µ–π—Å–∞
        function openCase() {
            if (player.money < 10) return;
            
            player.money -= 10;
            player.openedToday++;
            jackpot += 1; // –ß–∞—Å—Ç—å –¥–µ–Ω–µ–≥ –∏–¥–µ—Ç –≤ –¥–∂–µ–∫–ø–æ—Ç
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–µ–¥–∫–æ—Å—Ç—å
            const random = Math.random() * 100;
            let rarity, emoji;
            
            if (random < 60) {
                rarity = 'common';
            } else if (random < 90) {
                rarity = 'rare';
            } else if (random < 99) {
                rarity = 'epic';
            } else {
                // 1% —à–∞–Ω—Å –Ω–∞ –¥–∂–µ–∫–ø–æ—Ç
                if (Math.random() < 0.1) {
                    winJackpot();
                    return;
                }
                rarity = 'legendary';
            }
            
            // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω–æ–µ —ç–º–æ–¥–∑–∏
            const emojiList = emojis[rarity];
            emoji = emojiList[Math.floor(Math.random() * emojiList.length)];
            
            // –°–æ–∑–¥–∞–µ–º –ø—Ä–µ–¥–º–µ—Ç
            const item = { emoji, rarity };
            player.lastItem = item;
            player.inventory.push(item);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–∫–æ—Ä–¥
            if (player.money > player.record) {
                player.record = player.money;
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            showResult(item);
            
            updateUI();
        }
        
        // –ü–æ–∫—É–ø–∫–∞ –∫–µ–π—Å–∞ –≤ –º–∞–≥–∞–∑–∏–Ω–µ
        function buyCase(caseType, cost) {
            if (player.money < cost) {
                alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–µ–Ω–µ–≥!');
                return;
            }
            
            player.money -= cost;
            player.openedToday++;
            jackpot += cost * 0.1; // 10% –æ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∏–¥–µ—Ç –≤ –¥–∂–µ–∫–ø–æ—Ç
            
            let rarity, emoji;
            const random = Math.random() * 100;
            
            switch(caseType) {
                case 1: // –ó–æ–ª–æ—Ç–æ–π –∫–µ–π—Å
                    if (random < 50) {
                        rarity = 'rare';
                    } else if (random < 85) {
                        rarity = 'epic';
                    } else if (random < 99) {
                        rarity = 'legendary';
                    } else {
                        rarity = 'ultra';
                    }
                    break;
                case 2: // –ü–ª–∞—Ç–∏–Ω–æ–≤—ã–π –∫–µ–π—Å
                    if (random < 20) {
                        rarity = 'epic';
                    } else if (random < 80) {
                        rarity = 'legendary';
                    } else if (random < 99) {
                        rarity = 'ultra';
                    } else {
                        rarity = 'mythical';
                    }
                    break;
                case 3: // –î—Ä–∞–∫–æ–Ω–∏–π –∫–µ–π—Å
                    if (random < 5) {
                        rarity = 'legendary';
                    } else if (random < 75) {
                        rarity = 'ultra';
                    } else if (random < 99) {
                        rarity = 'mythical';
                    } else {
                        rarity = 'unique';
                    }
                    break;
            }
            
            // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω–æ–µ —ç–º–æ–¥–∑–∏
            const emojiList = emojis[rarity];
            emoji = emojiList[Math.floor(Math.random() * emojiList.length)];
            
            // –°–æ–∑–¥–∞–µ–º –ø—Ä–µ–¥–º–µ—Ç
            const item = { emoji, rarity };
            player.lastItem = item;
            player.inventory.push(item);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–∫–æ—Ä–¥
            if (player.money > player.record) {
                player.record = player.money;
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            showResult(item);
            
            updateUI();
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç–∫—Ä—ã—Ç–∏—è
        function showResult(item) {
            const resultDiv = document.getElementById('result');
            resultDiv.textContent = item.emoji;
            resultDiv.className = `result-display item-${item.rarity}`;
            
            // –ê–Ω–∏–º–∞—Ü–∏—è
            resultDiv.style.transform = 'scale(0)';
            setTimeout(() => {
                resultDiv.style.transform = 'scale(1)';
            }, 10);
            
            // –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ –¥–ª—è —Ä–µ–¥–∫–∏—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤
            if (item.rarity !== 'common' && item.rarity !== 'rare') {
                createConfetti();
            }
        }
        
        // –í—ã–∏–≥—Ä—ã—à –¥–∂–µ–∫–ø–æ—Ç–∞
        function winJackpot() {
            player.money += jackpot;
            
            // –°–æ–∑–¥–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø—Ä–µ–¥–º–µ—Ç
            const emojiList = emojis['unique'];
            const emoji = emojiList[Math.floor(Math.random() * emojiList.length)];
            const item = { emoji, rarity: 'unique' };
            player.inventory.push(item);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            const resultDiv = document.getElementById('result');
            resultDiv.textContent = emoji;
            resultDiv.className = 'result-display item-unique';
            resultDiv.style.animation = 'pulse 0.5s infinite';
            
            // –ú–µ–≥–∞ –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
            for (let i = 0; i < 200; i++) {
                setTimeout(() => createConfetti(), i * 50);
            }
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –¥–∂–µ–∫–ø–æ—Ç
            jackpot = 5000;
            
            alert(`üéâ –í–´ –í–´–ò–ì–†–ê–õ–ò –î–ñ–ï–ö–ü–û–¢ ${jackpot}üí∞! üéâ`);
            
            setTimeout(() => {
                resultDiv.style.animation = '';
            }, 3000);
            
            updateUI();
        }
        
        // –ü—Ä–æ–¥–∞–∂–∞ –ø—Ä–µ–¥–º–µ—Ç–∞
        function sellItem(index) {
            const item = player.inventory[index];
            
            player.money += emojiValues[item.rarity];
            player.inventory.splice(index, 1);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–∫–æ—Ä–¥
            if (player.money > player.record) {
                player.record = player.money;
            }
            
            updateUI();
        }
        
        // –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å
        function updateBonusButton() {
            const today = new Date().toDateString();
            const bonusButton = document.getElementById('bonusButton');
            
            if (player.lastBonusDate === today) {
                bonusButton.disabled = true;
                bonusButton.textContent = '–£–∂–µ –ø–æ–ª—É—á–µ–Ω';
            } else {
                bonusButton.disabled = false;
                bonusButton.textContent = '–ü–æ–ª—É—á–∏—Ç—å –±–æ–Ω—É—Å';
            }
        }
        
        function claimBonus() {
            const today = new Date().toDateString();
            
            if (player.lastBonusDate === today) {
                alert('–í—ã —É–∂–µ –ø–æ–ª—É—á–∞–ª–∏ –±–æ–Ω—É—Å —Å–µ–≥–æ–¥–Ω—è!');
                return;
            }
            
            player.lastBonusDate = today;
            const bonus = Math.floor(Math.random() * 80) + 20; // 20-100üí∞
            player.money += bonus;
            
            alert(`–í—ã –ø–æ–ª—É—á–∏–ª–∏ ${bonus}üí∞ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –±–æ–Ω—É—Å–∞!`);
            
            updateUI();
        }
        
        // –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
        function createConfetti() {
            const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff', '#ff9900', '#ff0099'];
            
            const confetti = document.createElement('div');
            confetti.className = 'confetti';
            confetti.style.left = `${Math.random() * 100}vw`;
            confetti.style.top = '-10px';
            confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            confetti.style.width = `${Math.random() * 10 + 5}px`;
            confetti.style.height = `${Math.random() * 10 + 5}px`;
            document.body.appendChild(confetti);
            
            const animationDuration = Math.random() * 3 + 2;
            confetti.style.transition = `top ${animationDuration}s linear, transform ${animationDuration}s ease-out`;
            
            setTimeout(() => {
                confetti.style.top = '100vh';
                confetti.style.transform = `rotate(${Math.random() * 360}deg) translateX(${Math.random() * 100 - 50}px)`;
            }, 10);
            
            setTimeout(() => {
                confetti.remove();
            }, animationDuration * 1000);
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.getElementById('openCase').addEventListener('click', openCase);
        document.getElementById('bonusButton').addEventListener('click', claimBonus);
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ localStorage
        function loadGame() {
            const savedGame = localStorage.getItem('emojiCasinoSave');
            if (savedGame) {
                const parsed = JSON.parse(savedGame);
                player.money = parsed.money || 100;
                player.inventory = parsed.inventory || [];
                player.openedToday = parsed.openedToday || 0;
                player.lastBonusDate = parsed.lastBonusDate || null;
                player.record = parsed.record || 0;
                jackpot = parsed.jackpot || 5000;
            }
        }
        
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
        function saveGame() {
            const gameData = {
                money: player.money,
                inventory: player.inventory,
                openedToday: player.openedToday,
                lastBonusDate: player.lastBonusDate,
                record: player.record,
                jackpot: jackpot
            };
            localStorage.setItem('emojiCasinoSave', JSON.stringify(gameData));
        }
        
        // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
        loadGame();
        setInterval(saveGame, 10000);
        window.addEventListener('beforeunload', saveGame);
        
        updateUI();
    </script>
</body>
</html>
